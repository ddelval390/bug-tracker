(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{265:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),i=n(57),o=n.n(i),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t,"/projects"),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t,"/tickets"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users",{cancelToken:t}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/user/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/users/user/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},266:function(e,t,n){"use strict";n(0);var r=n(240),a=n(71),c=n(2),i=Object(r.a)((function(e){return{span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"}}}));t.a=function(e){var t=e.text,n=i();return Object(c.jsx)(a.a,{variant:"h3",component:"span",className:n.span,children:t})}},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(26),a=n(0),c=n(240),i=n(338),o=n(342),s=n(341),u=n(337),l=n(339),d=n(340),p=n(201),b=n(71),f=n(353),h=n(343),j=n(2),m=Object(c.a)({paper:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},hover:{"&:hover":{backgroundColor:"#0899ba !important"}},selected:{backgroundColor:"#607d8b !important"},span:{padding:"1rem"}});function x(e){var t=e.loading,n=e.selected,c=e.handleSelect,x=e.title,O=e.data,v=e.hover,g=e.dense,y=e.rowKey,k=e.tableHeight,w=e.emptyTableText;if(c||(c=function(){}),!y)throw new Error('Component prop "rowKey" is not defined');if(!k)throw new Error('Component prop "tableHeight" is not defined');var C=m(),S=Object(a.useState)(0),T=Object(r.a)(S,2),E=T[0],W=T[1],D=Object(a.useState)(5),P=Object(r.a)(D,2),N=P[0],B=P[1],I=JSON.parse(JSON.stringify(O));return I.forEach((function(e){return delete e._id})),Object(j.jsxs)(p.a,{className:C.paper,children:[Object(j.jsx)(b.a,{variant:"h4",component:"span",className:C.span,children:x}),Object(j.jsx)(u.a,{style:{minHeight:k,maxHeight:k},children:Object(j.jsxs)(i.a,{className:C.table,"aria-label":"simple table",size:g?"small":"medium",components:{},children:[Object(j.jsx)(l.a,{children:Object(j.jsx)(d.a,{children:I[0]&&Object.keys(I[0]).map((function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);return 0===t?Object(j.jsx)(s.a,{children:n},e+" "+t):Object(j.jsx)(s.a,{align:"center",children:n},e+" "+t)}))})}),Object(j.jsxs)(o.a,{children:[I.slice(E*N,E*N+N).map((function(e,t){return Object(j.jsx)(d.a,{classes:{hover:C.hover,selected:C.selected},hover:v,onClick:function(e){c(e,O[t]._id)},selected:v&&(r=O[t]._id,n===r),children:Object.keys(e).map((function(t,n){return 0===n?Object(j.jsx)(s.a,{component:"th",scope:"row",children:e[t]},t+" "+n):Object(j.jsx)(s.a,{align:"center",children:e[t]},t+" "+n)}))},e[y]+" "+t);var r})),t&&Object(j.jsx)(d.a,{children:Object(j.jsx)(s.a,{align:"center",style:{border:"none"},children:Object(j.jsx)(h.a,{size:"8.5rem"})})}),!I.length&&!t&&Object(j.jsx)(d.a,{children:Object(j.jsx)(s.a,{align:"center",style:{border:"none"},children:Object(j.jsx)(b.a,{variant:"h4",className:C.span,children:w})})})]})]})}),Object(j.jsx)(f.a,{rowsPerPageOptions:[5,25,100],component:"div",count:I.length,rowsPerPage:N,page:E,onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){B(+e.target.value),W(0)}})]})}},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),i=n(57),o=n.n(i),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/projects",t).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/projects/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/projects/".concat(t),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/projects/".concat(t,"/tickets"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/projects/ticket/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/projects/".concat(t,"/team"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/projects/ticket/".concat(t),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/projects/ticket/".concat(n,"/comments/").concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/projects/ticket/".concat(t,"/comments"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/projects/ticket/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},292:function(e,t,n){"use strict";var r=n(0),a=n(240),c=n(245),i=n(355),o=n(310),s=n(314),u=n(312),l=n(313),d=n(311),p=n(71),b=n(2),f=Object(a.a)((function(e){return{dialogPaper:{minHeight:"40vh",minWidth:"40vw"},input:{display:"none"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},selectEmpty:{marginTop:e.spacing(2)}}}));t.a=function(e){var t=e.children,n=e.isOpen,a=e.handleOpen,h=e.dialogTitle,j=e.dialogDescription,m=e.titleTFValue,x=e.descriptionTFValue,O=e.handleChange,v=e.handleSubmit,g=e.error,y=f();return Object(b.jsx)(r.Fragment,{children:Object(b.jsxs)(o.a,{classes:{paper:y.dialogPaper},open:n,"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(d.a,{id:"form-dialog-title",children:h}),Object(b.jsxs)(u.a,{children:[Object(b.jsxs)(l.a,{children:[j,""!==g&&Object(b.jsx)(p.a,{component:"p",color:"error",children:g})]}),Object(b.jsx)(i.a,{autoFocus:!0,margin:"normal",id:"name",label:"Title",type:"text",value:m,onChange:function(e){return O(e.target.value,"title")},error:!m&&""!==g,fullWidth:!0}),Object(b.jsx)(i.a,{margin:"normal",id:"name",label:"Description",type:"text",variant:"filled",multiline:!0,rows:10,value:x,onChange:function(e){return O(e.target.value,"description")},error:!x&&""!==g,fullWidth:!0}),t]}),Object(b.jsxs)(s.a,{children:[Object(b.jsx)(c.a,{onClick:a,variant:"contained",color:"secondary",fullWidth:!0,children:"Cancel"}),Object(b.jsx)(c.a,{onClick:v,variant:"contained",style:{backgroundColor:"#47e344"},fullWidth:!0,children:"Save"})]})]})})}},293:function(e,t,n){"use strict";n(0);var r=n(245),a=n(310),c=n(314),i=n(312),o=n(313),s=n(311),u=n(2);t.a=function(e){var t=e.open,n=e.handleOpen,l=e.handleConfirm,d=e.titleText,p=e.descriptionText;return Object(u.jsx)("div",{children:Object(u.jsxs)(a.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(s.a,{id:"form-dialog-title",children:d}),Object(u.jsx)(i.a,{children:Object(u.jsx)(o.a,{children:p})}),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(r.a,{variant:"contained",color:"secondary",onClick:n,children:"Cancel"}),Object(u.jsx)(r.a,{variant:"contained",style:{backgroundColor:"#47e344"},onClick:function(){l(),n()},children:"Confirm"})]})]})})}},310:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(12),i=n(0),o=(n(4),n(5)),s=n(6),u=n(7),l=n(260),d=n(256),p=n(202),b=n(20),f=n(201),h={enter:b.b.enteringScreen,exit:b.b.leavingScreen},j=i.forwardRef((function(e,t){var n=e.BackdropProps,c=e.children,s=e.classes,b=e.className,j=e.disableBackdropClick,m=void 0!==j&&j,x=e.disableEscapeKeyDown,O=void 0!==x&&x,v=e.fullScreen,g=void 0!==v&&v,y=e.fullWidth,k=void 0!==y&&y,w=e.maxWidth,C=void 0===w?"sm":w,S=e.onBackdropClick,T=e.onClose,E=e.onEnter,W=e.onEntered,D=e.onEntering,P=e.onEscapeKeyDown,N=e.onExit,B=e.onExited,I=e.onExiting,F=e.open,A=e.PaperComponent,M=void 0===A?f.a:A,H=e.PaperProps,R=void 0===H?{}:H,_=e.scroll,K=void 0===_?"paper":_,V=e.TransitionComponent,z=void 0===V?p.a:V,L=e.transitionDuration,$=void 0===L?h:L,Y=e.TransitionProps,J=e["aria-describedby"],U=e["aria-labelledby"],X=Object(a.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),q=i.useRef();return i.createElement(l.a,Object(r.a)({className:Object(o.a)(s.root,b),BackdropComponent:d.a,BackdropProps:Object(r.a)({transitionDuration:$},n),closeAfterTransition:!0,disableBackdropClick:m,disableEscapeKeyDown:O,onEscapeKeyDown:P,onClose:T,open:F,ref:t},X),i.createElement(z,Object(r.a)({appear:!0,in:F,timeout:$,onEnter:E,onEntering:D,onEntered:W,onExit:N,onExiting:I,onExited:B,role:"none presentation"},Y),i.createElement("div",{className:Object(o.a)(s.container,s["scroll".concat(Object(u.a)(K))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===q.current&&(q.current=null,S&&S(e),!m&&T&&T(e,"backdropClick"))},onMouseDown:function(e){q.current=e.target}},i.createElement(M,Object(r.a)({elevation:24,role:"dialog","aria-describedby":J,"aria-labelledby":U},R,{className:Object(o.a)(s.paper,s["paperScroll".concat(Object(u.a)(K))],s["paperWidth".concat(Object(u.a)(String(C)))],R.className,g&&s.paperFullScreen,k&&s.paperFullWidth)}),c))))}));t.a=Object(s.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(j)},311:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),i=(n(4),n(5)),o=n(6),s=n(71),u=c.forwardRef((function(e,t){var n=e.children,o=e.classes,u=e.className,l=e.disableTypography,d=void 0!==l&&l,p=Object(a.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(r.a)({className:Object(i.a)(o.root,u),ref:t},p),d?n:c.createElement(s.a,{component:"h2",variant:"h6"},n))}));t.a=Object(o.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},312:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),i=(n(4),n(5)),o=n(6),s=c.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.dividers,u=void 0!==s&&s,l=Object(a.a)(e,["classes","className","dividers"]);return c.createElement("div",Object(r.a)({className:Object(i.a)(n.root,o,u&&n.dividers),ref:t},l))}));t.a=Object(o.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},313:function(e,t,n){"use strict";var r=n(1),a=n(0),c=(n(4),n(6)),i=n(71),o=a.forwardRef((function(e,t){return a.createElement(i.a,Object(r.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(c.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(o)},314:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),i=(n(4),n(5)),o=n(6),s=c.forwardRef((function(e,t){var n=e.disableSpacing,o=void 0!==n&&n,s=e.classes,u=e.className,l=Object(a.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(r.a)({className:Object(i.a)(s.root,u,!o&&s.spacing),ref:t},l))}));t.a=Object(o.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},316:function(e,t,n){"use strict";var r=n(38),a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=a(n(0)),i=(0,r(n(40)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=i},345:function(e,t,n){"use strict";n.r(t);var r=n(44),a=n(15),c=n(294),i=n(26),o=n(0),s=n.n(o),u=n(240),l=n(201),d=n(298),p=n(71),b=n(355),f=n(266),h=n(274),j=n(265),m=n(267),x=n(245),O=n(247),v=n(249),g=n(246),y=n(251),k=n(42),w=n(292),C=n(309),S=n(351),T=n(343),E=n(11),W=n(243),D=n(316),P=n.n(D),N=n(293),B=n(58),I=n(57),F=n.n(I),A=n(2),M=Object(u.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},inline:{display:"block"}}}));t.default=function(e){var t=e.match,n=M(),u=Object(o.useContext)(k.a),D=Object(i.a)(u,2),I=D[0],H=D[1],R=Object(o.useContext)(k.b),_=Object(o.useState)(!1),K=Object(i.a)(_,2),V=K[0],z=K[1],L=Object(o.useState)({comments:!1,history:!1,details:!1}),$=Object(i.a)(L,2),Y=$[0],J=$[1],U=Object(o.useState)({title:"",description:"",priority:"",type:"",status:"",isOpen:!1,error:""}),X=Object(i.a)(U,2),q=X[0],G=X[1],Q=Object(o.useState)([]),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(o.useState)([]),re=Object(i.a)(ne,2),ae=re[0],ce=re[1],ie=Object(o.useState)([]),oe=Object(i.a)(ie,2),se=oe[0],ue=oe[1],le=Object(o.useState)([]),de=Object(i.a)(le,2),pe=de[0],be=de[1],fe=Object(o.useState)([]),he=Object(i.a)(fe,2),je=he[0],me=he[1],xe=Object(o.useRef)(),Oe=Object(o.useState)(!1),ve=Object(i.a)(Oe,2),ge=ve[0],ye=ve[1],ke=Object(o.useState)((function(){})),we=Object(i.a)(ke,2),Ce=we[0],Se=we[1];Object(o.useEffect)((function(){var e=F.a.CancelToken.source();return J({comments:!0,history:!0,details:!0}),Object(h.g)(t.params.ticketId,e.token).then((function(e){var t=e.data.ticket.submitter.name,n=e.data.ticket.assignedDev?e.data.ticket.assignedDev.name:"";xe.current=e.data.ticket.assignedDev;var r=new Date(e.data.ticket.submissionDate);be(e.data.ticket.comments),ue(e.data.ticket.history),ce({title:e.data.ticket.title,description:e.data.ticket.description,status:e.data.ticket.status,"assigned dev":n,priority:e.data.ticket.priority,type:e.data.ticket.type,submitter:t,"submission date":r.toLocaleDateString()+" "+r.toLocaleTimeString()}),J({comments:!1,history:!1,details:!1})})),function(){e.cancel()}}),[]),Object(o.useEffect)((function(){q.isOpen?Object(j.e)("Developer").then((function(e){return me(Object(c.a)(e.data.userList))})):me([])}),[q.isOpen]),Object(o.useEffect)((function(){return R.emit("ticket updates",t.params.ticketId),function(){R.emit("disconnect ticket updates",t.params.ticketId)}}),[R,t.params.ticketId]),Object(o.useEffect)((function(){return R.on("deleteComment",(function(e){be((function(t){return t.filter((function(t){return t._id!==e}))}))})),R.on("newComment",(function(e){be((function(t){return t.unshift(e),Object(c.a)(t)}))})),R.on("ticketUpdate",(function(e){ue(e.history),ce({title:e.title,description:e.description,status:e.status,"assigned dev":e.assignedDev?e.assignedDev.name:"",priority:e.priority,type:e.type,submitter:e.submitter.name,"submission date":e.submissionDate})})),function(){R.off("newComment"),R.off("ticketUpdate")}}),[]);var Te=function(){G((function(e){return{title:ae.title,description:ae.description,priority:ae.priority,type:ae.type,status:ae.status,isOpen:!e.isOpen}}))},Ee=function(e,t){G((function(n){return Object(a.a)(Object(a.a)({},n),{},Object(r.a)({},t,e))}))},We=function(){Object(h.e)(t.params.ticketId).then((function(e){B.e.snackbarText="Successfully deleted the ticket.",B.e.snackbarSeverity="success",z(!0)})).catch((function(e){B.e.snackbarText="Could not delete the ticket. Try again later.",B.e.snackbarSeverity="error"})).finally((function(){H({type:B.d,snackbarPayload:B.e})}))},De=function(e){e?(ye((function(e){return!e})),Se((function(){return e}))):(ye((function(e){return!e})),Se((function(){})))};return Object(A.jsxs)("div",{className:n.root,children:[V&&Object(A.jsx)(E.a,{to:"/dashboard"}),Object(A.jsxs)(d.a,{container:!0,spacing:3,children:[Object(A.jsx)(d.a,{item:!0,xs:12,children:Object(A.jsx)(f.a,{text:"Ticket Details"})}),Object(A.jsx)(d.a,{container:!0,item:!0,xs:6,children:Y.details?Object(A.jsx)(d.a,{item:!0,xs:12,style:{textAlign:"center"},children:Object(A.jsx)(T.a,{size:"20rem"})}):Object.entries(ae).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(A.jsxs)(d.a,{item:!0,xs:6,children:[Object(A.jsx)(d.a,{item:!0,xs:12,children:Object(A.jsx)(p.a,{variant:"h5",children:n})}),Object(A.jsx)(d.a,{item:!0,xs:12,children:Object(A.jsx)(p.a,{variant:"h6",children:r})})]},n+" "+r)}))}),Object(A.jsxs)(d.a,{container:!0,item:!0,xs:6,spacing:2,children:[Object(A.jsxs)(d.a,{item:!0,xs:12,component:l.a,classes:{root:n.paper},children:[Object(A.jsx)(p.a,{variant:"h4",children:"Comments"}),Object(A.jsxs)(O.a,{style:{minHeight:"26vh",maxHeight:"26vh",overflow:"auto"},children:[Y.comments&&Object(A.jsx)(v.a,{style:{width:"40%",margin:"auto"},children:Object(A.jsx)(T.a,{size:"12rem"})}),!Y.comments&&pe.length?pe.map((function(e){return Object(A.jsxs)(o.Fragment,{children:[Object(A.jsxs)(v.a,{alignItems:"flex-start",children:[Object(A.jsx)(y.a,{primary:e.user.name,secondary:Object(A.jsxs)(s.a.Fragment,{children:[Object(A.jsx)(p.a,{component:"span",variant:"body2",classes:{root:n.inline},color:"textPrimary",children:e.text}),"Posted at: ",e.timePosted]})}),e.user._id===I.userId&&Object(A.jsx)(W.a,{edge:"start",color:"secondary",onClick:function(){return De((function(){return n=e._id,void Object(h.c)(n,t.params.ticketId).then((function(e){B.e.snackbarText="Successfully deleted comment",B.e.snackbarSeverity="success"})).catch((function(e){B.e.snackbarText="Could not delete comment. Try again later.",B.e.snackbarSeverity="error"})).finally((function(){H({type:B.d,snackbarPayload:B.e})}));var n}))},children:Object(A.jsx)(P.a,{})})]}),Object(A.jsx)(g.a,{variant:"inset",component:"li"})]},e._id)})):Object(A.jsx)(v.a,{style:{width:"60%",margin:"auto"},children:Object(A.jsx)(p.a,{variant:"h4",children:"No Comments Yet!"})})]}),Object(A.jsx)(b.a,{id:"name",label:"Add Comment",type:"text",variant:"outlined",value:ee,onChange:function(e){return t=e.target.value,void te(t);var t},fullWidth:!0})]}),Object(A.jsx)(d.a,{item:!0,xs:12,children:Object(A.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){var e={user:I.userId,text:ee};Object(h.h)(t.params.ticketId,e).then((function(e){B.e.snackbarText="Successfully posted comment",B.e.snackbarSeverity="success"})).catch((function(e){B.e.snackbarText="Could not post comment. Try again later.",B.e.snackbarSeverity="error"})).finally((function(){H({type:B.d,snackbarPayload:B.e})}))},disabled:!ee,children:"Submit"})})]}),Object(A.jsx)(d.a,{item:!0,xs:12,children:Object(A.jsx)(m.a,{tableHeight:"22vh",loading:Y.history,title:"Ticket History",data:se,dense:!0,handleSelect:function(){},rowKey:"oldValue"})}),("Admin"===I.role||"Project Manager"===I.role)&&Object(A.jsxs)(o.Fragment,{children:[Object(A.jsx)(d.a,{item:!0,xs:6,children:Object(A.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:Te,children:"Edit Ticket"})}),Object(A.jsx)(d.a,{item:!0,xs:6,children:Object(A.jsx)(x.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return De(We)},children:"Delete"})})]}),"Developer"===I.role&&Object(A.jsx)(o.Fragment,{children:Object(A.jsx)(d.a,{item:!0,xs:12,children:Object(A.jsx)(x.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:Te,children:"Edit Ticket"})})})]}),Object(A.jsxs)(w.a,{isOpen:q.isOpen,handleOpen:Te,handleChange:Ee,titleTFValue:q.title,descriptionTFValue:q.description,dialogTitle:"Edit Ticket",dialogDescription:"Edit the values below and click save",handleSubmit:function(){q.title&&q.description||G((function(e){return Object(a.a)(Object(a.a)({},e),{},{error:"Please fill in the required forms"})}));var e={title:q.title,description:q.description,status:q.status,priority:q.priority,type:q.type};xe.current&&(e.assignedDev=xe.current._id),Object(h.j)(t.params.ticketId,e).then((function(e){B.e.snackbarText="Successfully updated the ticket.",B.e.snackbarSeverity="success"})).catch((function(e){B.e.snackbarText="Could not update the ticket. Try again later.",B.e.snackbarSeverity="error"})).finally((function(){H({type:B.d,snackbarPayload:B.e}),Te()}))},error:q.error,children:[Object(A.jsx)(C.a,{variant:"filled",className:n.formControl,fullWidth:!0,children:Object(A.jsx)(S.a,{options:["open","closed"],value:q.status,onChange:function(e,t){Ee(t,"status")},renderInput:function(e){return Object(A.jsx)(b.a,Object(a.a)(Object(a.a)({},e),{},{label:"Status",variant:"outlined"}))}})}),Object(A.jsx)(C.a,{variant:"filled",className:n.formControl,fullWidth:!0,children:Object(A.jsx)(S.a,{id:"combo-box-demo",options:je,value:xe.current,onChange:function(e,t){xe.current=t},getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(A.jsx)(b.a,Object(a.a)(Object(a.a)({},e),{},{label:"Assign a developer",variant:"outlined"}))}})}),Object(A.jsx)(C.a,{variant:"filled",className:n.formControl,fullWidth:!0,children:Object(A.jsx)(S.a,{options:["high","medium","low","none"],value:q.priority,onChange:function(e,t){Ee(t,"priority")},renderInput:function(e){return Object(A.jsx)(b.a,Object(a.a)(Object(a.a)({},e),{},{label:"Priority",variant:"outlined"}))}})}),Object(A.jsx)(C.a,{variant:"filled",className:n.formControl,fullWidth:!0,children:Object(A.jsx)(S.a,{options:["bug"],value:q.type,onChange:function(e,t){Ee(t,"type")},renderInput:function(e){return Object(A.jsx)(b.a,Object(a.a)(Object(a.a)({},e),{},{label:"Type",variant:"outlined"}))}})})]}),Object(A.jsx)(N.a,{titleText:"Confirm Action",descriptionText:"Are you sure you want to delete this?",open:ge,handleOpen:De,handleConfirm:Ce})]})}}}]);
//# sourceMappingURL=7.3a427570.chunk.js.map