(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{265:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),s=n(57),o=n.n(s),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t,"/projects"),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t,"/tickets"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users",{cancelToken:t}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/user/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/users/user/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},266:function(e,t,n){"use strict";n(0);var r=n(240),a=n(71),c=n(2),s=Object(r.a)((function(e){return{span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"}}}));t.a=function(e){var t=e.text,n=s();return Object(c.jsx)(a.a,{variant:"h3",component:"span",className:n.span,children:t})}},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(26),a=n(0),c=n(240),s=n(338),o=n(342),i=n(341),u=n(337),l=n(339),d=n(340),p=n(201),b=n(71),h=n(353),j=n(343),f=n(2),x=Object(c.a)({paper:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},hover:{"&:hover":{backgroundColor:"#0899ba !important"}},selected:{backgroundColor:"#607d8b !important"},span:{padding:"1rem"}});function O(e){var t=e.loading,n=e.selected,c=e.handleSelect,O=e.title,g=e.data,m=e.hover,v=e.dense,w=e.rowKey,y=e.tableHeight,k=e.emptyTableText;if(c||(c=function(){}),!w)throw new Error('Component prop "rowKey" is not defined');if(!y)throw new Error('Component prop "tableHeight" is not defined');var S=x(),C=Object(a.useState)(0),T=Object(r.a)(C,2),N=T[0],P=T[1],_=Object(a.useState)(25),D=Object(r.a)(_,2),H=D[0],U=D[1],A=JSON.parse(JSON.stringify(g));return A.forEach((function(e){return delete e._id})),Object(f.jsxs)(p.a,{className:S.paper,children:[Object(f.jsx)(b.a,{variant:"h4",component:"span",className:S.span,children:O}),Object(f.jsx)(u.a,{style:{minHeight:y,maxHeight:y},children:Object(f.jsxs)(s.a,{className:S.table,"aria-label":"simple table",size:v?"small":"medium",components:{},children:[Object(f.jsx)(l.a,{children:Object(f.jsx)(d.a,{children:A[0]&&Object.keys(A[0]).map((function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);return 0===t?Object(f.jsx)(i.a,{children:n},e+" "+t):Object(f.jsx)(i.a,{align:"center",children:n},e+" "+t)}))})}),Object(f.jsxs)(o.a,{children:[A.slice(N*H,N*H+H).map((function(e,t){return Object(f.jsx)(d.a,{classes:{hover:S.hover,selected:S.selected},hover:m,onClick:function(e){c(e,g[t]._id)},selected:m&&(r=g[t]._id,n===r),children:Object.keys(e).map((function(t,n){return 0===n?Object(f.jsx)(i.a,{component:"th",scope:"row",children:e[t]},t+" "+n):Object(f.jsx)(i.a,{align:"center",children:e[t]},t+" "+n)}))},e[w]+" "+t);var r})),t&&Object(f.jsx)(d.a,{children:Object(f.jsx)(i.a,{align:"center",style:{border:"none"},children:Object(f.jsx)(j.a,{size:"8.5rem"})})}),!A.length&&!t&&Object(f.jsx)(d.a,{children:Object(f.jsx)(i.a,{align:"center",style:{border:"none"},children:Object(f.jsx)(b.a,{variant:"h4",className:S.span,children:k})})})]})]})}),Object(f.jsx)(h.a,{rowsPerPageOptions:[5,25,100],component:"div",count:A.length,rowsPerPage:H,page:N,onChangePage:function(e,t){P(t)},onChangeRowsPerPage:function(e){U(+e.target.value),P(0)}})]})}},346:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(0),c=n(240),s=n(298),o=n(201),i=n(267),u=n(265),l=n(266),d=n(317),p=n(71),b=n(319),h=n(344),j=n(309),f=n(349),x=n(42),O=n(58),g=n(57),m=n.n(g),v=n(2),w=Object(c.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},link:{color:"inherit",textDecoration:"none"},span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},button:{}}}));t.default=function(){var e=w(),t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],g=n[1],y=Object(a.useState)([]),k=Object(r.a)(y,2),S=k[0],C=k[1],T=Object(a.useState)(!1),N=Object(r.a)(T,2),P=N[0],_=N[1],D=Object(a.useState)(""),H=Object(r.a)(D,2),U=H[0],A=H[1],R=Object(a.useContext)(x.a),E=Object(r.a)(R,2),J=E[0],K=E[1];Object(a.useEffect)((function(){var e=m.a.CancelToken.source();return _(!0),Object(u.a)(e.token).then((function(e){C(e.data.userList),_(!1)})),function(){e.cancel()}}),[]);return Object(v.jsx)("div",{className:e.root,children:Object(v.jsxs)(s.a,{container:!0,spacing:3,children:[Object(v.jsx)(s.a,{item:!0,xs:12,children:Object(v.jsx)(l.a,{text:"Manage User Roles"})}),J.isDemoUser&&Object(v.jsx)(s.a,{item:!0,xs:12,children:Object(v.jsx)(p.a,{variant:"h5",children:"Demo users are able to view roles but not change them."})}),Object(v.jsx)(s.a,{item:!0,md:8,xs:12,children:Object(v.jsx)(i.a,{emptyTableText:"There are no users",tableHeight:"70vh",loading:P,selected:c,handleSelect:function(e,t){if(c===t)g("");else{g(t);var n=S.find((function(e){return e._id===t}));A(n.role)}},title:"Users",data:S,hover:!0,dense:!1,rowKey:"_id"})}),Object(v.jsx)(s.a,{item:!0,md:4,xs:12,spacing:2,style:{textAlign:"center"},children:Object(v.jsxs)(d.a,{component:o.a,style:{minHeight:"25vh"},children:[Object(v.jsx)(p.a,{variant:"h5",children:"User role details for user:"}),Object(v.jsx)(p.a,{variant:"h5",children:c?S.find((function(e){return e._id===c})).name:"No user selected"}),Object(v.jsxs)(j.a,{className:e.formControl,style:{width:"80%"},children:[Object(v.jsx)(b.a,{id:"demo-simple-select-label",children:"Role"}),Object(v.jsxs)(f.a,{disabled:""===c||J.isDemoUser,labelId:"demo-simple-select-label",id:"demo-simple-select",value:U,onChange:function(e){return function(e){var t=e.target.value;A(t),Object(u.f)(c,{role:t}).then((function(e){O.e.snackbarText="Successfully changed user role",O.e.snackbarSeverity="success",S.find((function(e){return e._id===c})).role=t})).catch((function(e){O.e.snackbarText="Could not change users role. Try again later.",O.e.snackbarSeverity="error"})).finally((function(){K({type:O.d,snackbarPayload:O.e})}))}(e)},fullWidth:!0,children:[Object(v.jsx)(h.a,{value:"Submitter",children:"Submitter"}),Object(v.jsx)(h.a,{value:"Developer",children:"Developer"}),Object(v.jsx)(h.a,{value:"Project Manager",children:"Project Manager"}),Object(v.jsx)(h.a,{value:"Admin",children:"Admin"})]})]})]})})]})})}}}]);
//# sourceMappingURL=11.f4c8efd2.chunk.js.map