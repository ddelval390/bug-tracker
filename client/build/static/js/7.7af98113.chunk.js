(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{265:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),o=n(57),i=n.n(o),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/role/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/user/".concat(t,"/projects"),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/user/".concat(t,"/tickets"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users",{cancelToken:t}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/user/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/users/user/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},266:function(e,t,n){"use strict";n(0);var r=n(240),a=n(71),c=n(2),o=Object(r.a)((function(e){return{span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"}}}));t.a=function(e){var t=e.text,n=o();return Object(c.jsx)(a.a,{variant:"h3",component:"span",className:n.span,children:t})}},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(26),a=n(0),c=n(240),o=n(339),i=n(343),s=n(342),u=n(338),l=n(340),p=n(341),d=n(201),b=n(71),f=n(354),h=n(344),j=n(2),m=Object(c.a)({paper:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},hover:{"&:hover":{backgroundColor:"#0899ba !important"}},selected:{backgroundColor:"#607d8b !important"},span:{padding:"1rem"}});function x(e){var t=e.loading,n=e.selected,c=e.handleSelect,x=e.title,O=e.data,v=e.hover,g=e.dense,k=e.rowKey,w=e.tableHeight,y=e.emptyTableText;if(c||(c=function(){}),!k)throw new Error('Component prop "rowKey" is not defined');if(!w)throw new Error('Component prop "tableHeight" is not defined');var T=m(),S=Object(a.useState)(0),C=Object(r.a)(S,2),E=C[0],W=C[1],P=Object(a.useState)(25),N=Object(r.a)(P,2),D=N[0],B=N[1],F=JSON.parse(JSON.stringify(O));return F.forEach((function(e){return delete e._id})),Object(j.jsxs)(d.a,{className:T.paper,children:[Object(j.jsx)(b.a,{variant:"h4",component:"span",className:T.span,children:x}),Object(j.jsx)(u.a,{style:{minHeight:w,maxHeight:w},children:Object(j.jsxs)(o.a,{className:T.table,"aria-label":"simple table",size:g?"small":"medium",components:{},children:[Object(j.jsx)(l.a,{children:Object(j.jsx)(p.a,{children:F[0]&&Object.keys(F[0]).map((function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);return 0===t?Object(j.jsx)(s.a,{children:n},e+" "+t):Object(j.jsx)(s.a,{align:"center",children:n},e+" "+t)}))})}),Object(j.jsxs)(i.a,{children:[F.slice(E*D,E*D+D).map((function(e,t){return Object(j.jsx)(p.a,{classes:{hover:T.hover,selected:T.selected},hover:v,onClick:function(e){c(e,O[t]._id)},selected:v&&(r=O[t]._id,n===r),children:Object.keys(e).map((function(t,n){return 0===n?Object(j.jsx)(s.a,{component:"th",scope:"row",children:e[t]},t+" "+n):Object(j.jsx)(s.a,{align:"center",children:e[t]},t+" "+n)}))},e[k]+" "+t);var r})),t&&Object(j.jsx)(p.a,{children:Object(j.jsx)(s.a,{align:"center",style:{border:"none"},children:Object(j.jsx)(h.a,{size:"8.5rem"})})}),!F.length&&!t&&Object(j.jsx)(p.a,{children:Object(j.jsx)(s.a,{align:"center",style:{border:"none"},children:Object(j.jsx)(b.a,{variant:"h4",className:T.span,children:y})})})]})]})}),Object(j.jsx)(f.a,{rowsPerPageOptions:[5,25,100],component:"div",count:F.length,rowsPerPage:D,page:E,onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){B(+e.target.value),W(0)}})]})}},291:function(e,t,n){"use strict";var r=n(0),a=n(240),c=n(245),o=n(356),i=n(311),s=n(315),u=n(313),l=n(314),p=n(312),d=n(71),b=n(2),f=Object(a.a)((function(e){return{dialogPaper:{minHeight:"40vh",minWidth:"40vw"},input:{display:"none"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},selectEmpty:{marginTop:e.spacing(2)}}}));t.a=function(e){var t=e.children,n=e.isOpen,a=e.handleOpen,h=e.dialogTitle,j=e.dialogDescription,m=e.titleTFValue,x=e.descriptionTFValue,O=e.handleChange,v=e.handleSubmit,g=e.error,k=f();return Object(b.jsx)(r.Fragment,{children:Object(b.jsxs)(i.a,{classes:{paper:k.dialogPaper},open:n,"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(p.a,{id:"form-dialog-title",children:h}),Object(b.jsxs)(u.a,{children:[Object(b.jsxs)(l.a,{children:[j,""!==g&&Object(b.jsx)(d.a,{component:"p",color:"error",children:g})]}),Object(b.jsx)(o.a,{autoFocus:!0,margin:"normal",id:"name",label:"Title",type:"text",value:m,onChange:function(e){return O(e.target.value,"title")},error:!m&&""!==g,fullWidth:!0}),Object(b.jsx)(o.a,{margin:"normal",id:"name",label:"Description",type:"text",variant:"filled",multiline:!0,rows:10,value:x,onChange:function(e){return O(e.target.value,"description")},error:!x&&""!==g,fullWidth:!0}),t]}),Object(b.jsxs)(s.a,{children:[Object(b.jsx)(c.a,{onClick:a,variant:"contained",color:"secondary",fullWidth:!0,children:"Cancel"}),Object(b.jsx)(c.a,{onClick:v,variant:"contained",style:{backgroundColor:"#47e344"},fullWidth:!0,children:"Save"})]})]})})}},292:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p}));var r=n(51),a=n.n(r),c=n(74),o=n(57),i=n.n(o),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/project",t).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/project/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/project/".concat(t),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/project/".concat(t,"/team"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},293:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return d}));var r=n(51),a=n.n(r),c=n(74),o=n(57),i=n.n(o),s=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/ticket/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/project/".concat(t,"/tickets"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/ticket/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/ticket/".concat(t),{cancelToken:n}).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/ticket/".concat(n,"/comments/").concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/ticket/".concat(t,"/comments"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},294:function(e,t,n){"use strict";n(0);var r=n(245),a=n(311),c=n(315),o=n(313),i=n(314),s=n(312),u=n(2);t.a=function(e){var t=e.open,n=e.handleOpen,l=e.handleConfirm,p=e.titleText,d=e.descriptionText;return Object(u.jsx)("div",{children:Object(u.jsxs)(a.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(s.a,{id:"form-dialog-title",children:p}),Object(u.jsx)(o.a,{children:Object(u.jsx)(i.a,{children:d})}),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(r.a,{variant:"contained",color:"secondary",onClick:n,children:"Cancel"}),Object(u.jsx)(r.a,{variant:"contained",style:{backgroundColor:"#47e344"},onClick:function(){l(),n()},children:"Confirm"})]})]})})}},311:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(12),o=n(0),i=(n(4),n(5)),s=n(6),u=n(7),l=n(260),p=n(256),d=n(202),b=n(20),f=n(201),h={enter:b.b.enteringScreen,exit:b.b.leavingScreen},j=o.forwardRef((function(e,t){var n=e.BackdropProps,c=e.children,s=e.classes,b=e.className,j=e.disableBackdropClick,m=void 0!==j&&j,x=e.disableEscapeKeyDown,O=void 0!==x&&x,v=e.fullScreen,g=void 0!==v&&v,k=e.fullWidth,w=void 0!==k&&k,y=e.maxWidth,T=void 0===y?"sm":y,S=e.onBackdropClick,C=e.onClose,E=e.onEnter,W=e.onEntered,P=e.onEntering,N=e.onEscapeKeyDown,D=e.onExit,B=e.onExited,F=e.onExiting,R=e.open,A=e.PaperComponent,H=void 0===A?f.a:A,K=e.PaperProps,M=void 0===K?{}:K,I=e.scroll,$=void 0===I?"paper":I,J=e.TransitionComponent,U=void 0===J?d.a:J,V=e.transitionDuration,Y=void 0===V?h:V,_=e.TransitionProps,X=e["aria-describedby"],z=e["aria-labelledby"],L=Object(a.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),q=o.useRef();return o.createElement(l.a,Object(r.a)({className:Object(i.a)(s.root,b),BackdropComponent:p.a,BackdropProps:Object(r.a)({transitionDuration:Y},n),closeAfterTransition:!0,disableBackdropClick:m,disableEscapeKeyDown:O,onEscapeKeyDown:N,onClose:C,open:R,ref:t},L),o.createElement(U,Object(r.a)({appear:!0,in:R,timeout:Y,onEnter:E,onEntering:P,onEntered:W,onExit:D,onExiting:F,onExited:B,role:"none presentation"},_),o.createElement("div",{className:Object(i.a)(s.container,s["scroll".concat(Object(u.a)($))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===q.current&&(q.current=null,S&&S(e),!m&&C&&C(e,"backdropClick"))},onMouseDown:function(e){q.current=e.target}},o.createElement(H,Object(r.a)({elevation:24,role:"dialog","aria-describedby":X,"aria-labelledby":z},M,{className:Object(i.a)(s.paper,s["paperScroll".concat(Object(u.a)($))],s["paperWidth".concat(Object(u.a)(String(T)))],M.className,g&&s.paperFullScreen,w&&s.paperFullWidth)}),c))))}));t.a=Object(s.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(j)},312:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),o=(n(4),n(5)),i=n(6),s=n(71),u=c.forwardRef((function(e,t){var n=e.children,i=e.classes,u=e.className,l=e.disableTypography,p=void 0!==l&&l,d=Object(a.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(r.a)({className:Object(o.a)(i.root,u),ref:t},d),p?n:c.createElement(s.a,{component:"h2",variant:"h6"},n))}));t.a=Object(i.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},313:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),o=(n(4),n(5)),i=n(6),s=c.forwardRef((function(e,t){var n=e.classes,i=e.className,s=e.dividers,u=void 0!==s&&s,l=Object(a.a)(e,["classes","className","dividers"]);return c.createElement("div",Object(r.a)({className:Object(o.a)(n.root,i,u&&n.dividers),ref:t},l))}));t.a=Object(i.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},314:function(e,t,n){"use strict";var r=n(1),a=n(0),c=(n(4),n(6)),o=n(71),i=a.forwardRef((function(e,t){return a.createElement(o.a,Object(r.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(c.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(i)},315:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),o=(n(4),n(5)),i=n(6),s=c.forwardRef((function(e,t){var n=e.disableSpacing,i=void 0!==n&&n,s=e.classes,u=e.className,l=Object(a.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(r.a)({className:Object(o.a)(s.root,u,!i&&s.spacing),ref:t},l))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},337:function(e,t,n){"use strict";n.r(t);var r=n(44),a=n(295),c=n(15),o=n(26),i=n(0),s=n.n(i),u=n(240),l=n(299),p=n(267),d=n(245),b=n(291),f=n(310),h=n(352),j=n(356),m=n(292),x=n(293),O=n(265),v=n(42),g=n(34),k=n(266),w=n(294),y=n(58),T=n(57),S=n.n(T),C=n(71),E=n(2),W=Object(u.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},link:{color:"inherit",textDecoration:"none"},span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},button:{}}}));t.default=function(){var e=W(),t=Object(i.useState)({title:"",description:"",isOpen:!1,isTicketForm:!0,error:""}),n=Object(o.a)(t,2),u=n[0],T=n[1],P=Object(i.useState)({projects:!1,tickets:!1,team:!1}),N=Object(o.a)(P,2),D=N[0],B=N[1],F=Object(i.useState)(""),R=Object(o.a)(F,2),A=R[0],H=R[1],K=Object(i.useState)(""),M=Object(o.a)(K,2),I=M[0],$=M[1],J=Object(i.useRef)(),U=Object(i.useContext)(v.a),V=Object(o.a)(U,2),Y=V[0],_=V[1],X=Object(i.useRef)(),z=Object(i.useRef)(),L=Object(i.useState)([]),q=Object(o.a)(L,2),G=q[0],Q=q[1],Z=Object(i.useState)([]),ee=Object(o.a)(Z,2),te=ee[0],ne=ee[1],re=Object(i.useState)([]),ae=Object(o.a)(re,2),ce=ae[0],oe=ae[1],ie=Object(i.useState)(!1),se=Object(o.a)(ie,2),ue=se[0],le=se[1],pe=Object(i.useState)((function(){})),de=Object(o.a)(pe,2),be=de[0],fe=de[1],he=Object(i.useContext)(v.b);Object(i.useEffect)((function(){var e=S.a.CancelToken.source();return B((function(e){return Object(c.a)(Object(c.a)({},e),{},{projects:!0})})),Object(O.c)(Y.userId,e.token).then((function(e){B((function(e){return Object(c.a)(Object(c.a)({},e),{},{projects:!1})})),Q(e.data.projects)})),function(){e.cancel()}}),[]),Object(i.useEffect)((function(){var e=S.a.CancelToken.source();return""!==A&&(J.current&&he.emit("disconnect project updates",J.current),he.emit("project updates",A),B((function(e){return Object(c.a)(Object(c.a)({},e),{},{team:!0,tickets:!0})})),Object(m.c)(A,e.token).then((function(e){B((function(e){return Object(c.a)(Object(c.a)({},e),{},{team:!1,tickets:!1})}));var t=e.data.project;ne(t.tickets),oe(t.team)})).catch((function(e){y.e.snackbarText="Something went wrong. Try again later.",y.e.snackbarSeverity="error",_({type:y.d,snackbarPayload:y.e})}))),function(){e.cancel()}}),[A]),Object(i.useEffect)((function(){return A&&(J.current&&he.emit("disconnect project updates",J.current),he.emit("project updates",A)),function(){he.emit("disconnect project updates",A)}}),[A,he]),Object(i.useEffect)((function(){return he.on("newTicket",(function(e){ne((function(t){return t.push(e),Object(a.a)(t)}))})),he.on("newTeam",(function(e){oe(e)})),function(){he.off("newTicket"),he.off("newTeam"),he.emit("disconnect homePage")}}),[he]);var je=function(e){var t;"project"===e?t=!1:"ticket"===e&&(t=!0),T((function(e){return Object(c.a)(Object(c.a)({},e),{},{title:"",description:"",isOpen:!e.isOpen,isTicketForm:t,error:""})}))},me=function(e){e?(le((function(e){return!e})),fe((function(){return e}))):(le((function(e){return!e})),fe((function(){})))},xe=!u.title||!u.description,Oe=u.isTicketForm?"Create a new ticket":"Create a new project",ve=u.isTicketForm?"Enter the ticket details":"Enter the project details";return Object(E.jsxs)("div",{className:e.root,children:[Object(E.jsxs)(l.a,{container:!0,spacing:3,children:[Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)(k.a,{text:"Home"})}),Y.isDemoUser&&Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)(C.a,{variant:"h5",children:"Demo users are able to view and create projects but delete them."})}),"Admin"===Y.role&&Object(E.jsxs)(i.Fragment,{children:[Object(E.jsx)(l.a,{item:!0,md:3,xs:12,children:Object(E.jsx)(d.a,{variant:"contained",color:"primary",fullWidth:!0,classes:{root:e.button},onClick:function(){return je("project")},children:"Create a new project"})}),Object(E.jsx)(l.a,{item:!0,md:3,xs:12,children:Object(E.jsx)(d.a,{variant:"contained",color:"secondary",fullWidth:!0,classes:{root:e.button},onClick:function(){return me((function(){return e=A,void Object(m.b)(e).then((function(t){y.e.snackbarText="Successfully deleted the project",y.e.snackbarSeverity="success",Q((function(t){return t.filter((function(t){return t._id!==e}))}))})).catch((function(e){y.e.snackbarText="Something went wrong deleting the project. Try again later.",y.e.snackbarSeverity="error"})).finally((function(){_({type:y.d,snackbarPayload:y.e})}));var e}))},disabled:!A||Y.isDemoUser,children:"Delete Selected Project"})}),Object(E.jsx)(l.a,{item:!0,md:6})]}),Object(E.jsx)(l.a,{item:!0,md:6,xs:12,children:Object(E.jsx)(p.a,{emptyTableText:"No projects available",tableHeight:"22vh",loading:D.projects,selected:A,handleSelect:function(e,t){H(A===t?"":function(e){return J.current=e,t})},title:"Projects",data:G,hover:!0,dense:!0,rowKey:"title"})}),Object(E.jsx)(l.a,{item:!0,md:6,xs:12,children:Object(E.jsx)(p.a,{emptyTableText:A?"This project's team is empty":"Select a project to view it's team",tableHeight:"22vh",loading:D.team,title:"Team",data:ce,hover:!1,dense:!0,rowKey:"email"})}),Object(E.jsx)(l.a,{item:!0,xs:12,children:Object(E.jsx)(p.a,{emptyTableText:A?"This project has no tickets":"Select a project to view it's tickets",tableHeight:"22vh",loading:D.tickets,selected:I,handleSelect:function(e,t){$(I===t?"":t)},title:"Tickets",data:te,hover:!0,dense:!0,rowKey:"title"})}),Object(E.jsx)(l.a,{item:!0,md:6,xs:12,children:Object(E.jsx)(g.b,{to:"/dashboard/projects/ticket/".concat(I),className:e.link,children:Object(E.jsx)(d.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:!I,children:"Ticket Details"})})}),Object(E.jsx)(l.a,{item:!0,md:6,xs:12,children:Object(E.jsx)(d.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:!A,onClick:function(){return je("ticket")},children:"Submit a new ticket"})})]}),Object(E.jsx)(b.a,{isOpen:u.isOpen,handleOpen:je,handleChange:function(e,t){T((function(n){return Object(c.a)(Object(c.a)({},n),{},Object(r.a)({},t,e))}))},titleTFValue:u.title,descriptionTFValue:u.description,dialogTitle:Oe,dialogDescription:ve,handleSubmit:function(){xe?T((function(e){return Object(c.a)(Object(c.a)({},e),{},{error:"please fill the required fields"})})):(u.isTicketForm?function(){var e={title:u.title,description:u.description,submitter:Y.userId,type:X.current,priority:z.current};Object(x.a)(A,e).then((function(e){y.e.snackbarText="Successfully created a ticket",y.e.snackbarSeverity="success"})).catch((function(e){y.e.snackbarText="Something went wrong creating the ticket. Try again later.",y.e.snackbarSeverity="error"})).finally((function(){_({type:y.d,snackbarPayload:y.e})}))}():function(){var e={title:u.title,description:u.description};Object(m.a)(e).then((function(e){y.e.snackbarText="Successfully created a project",y.e.snackbarSeverity="success";var t=e.data.project;Q((function(e){return e.push(t),Object(a.a)(e)}))})).catch((function(e){y.e.snackbarText="Something went wrong creating the project. Try again later.",y.e.snackbarSeverity="error"})).finally((function(){_({type:y.d,snackbarPayload:y.e})}))}(),je())},error:u.error,children:u.isTicketForm&&Object(E.jsxs)(s.a.Fragment,{children:[Object(E.jsx)(f.a,{variant:"filled",className:e.formControl,fullWidth:!0,children:Object(E.jsx)(h.a,{options:["high","medium","low","none"],onChange:function(e,t){z.current=t},renderInput:function(e){return Object(E.jsx)(j.a,Object(c.a)(Object(c.a)({},e),{},{label:"Priority",variant:"outlined"}))}})}),Object(E.jsx)(f.a,{variant:"filled",className:e.formControl,fullWidth:!0,children:Object(E.jsx)(h.a,{options:["bug"],onChange:function(e,t){X.current=t},renderInput:function(e){return Object(E.jsx)(j.a,Object(c.a)(Object(c.a)({},e),{},{label:"Type",variant:"outlined"}))}})})]})}),Object(E.jsx)(w.a,{titleText:"Confirm Action",descriptionText:"Are you sure you want to delete this?",open:ue,handleOpen:me,handleConfirm:be})]})}}}]);
//# sourceMappingURL=7.7af98113.chunk.js.map