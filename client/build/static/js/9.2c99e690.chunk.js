(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{265:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),o=n(57),i=n.n(o),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/".concat(t,"/projects")).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/".concat(t,"/tickets")).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users").then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/users/user/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/users/user/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},266:function(e,t,n){"use strict";n(0);var r=n(240),a=n(71),c=n(2),o=Object(r.a)((function(e){return{span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"}}}));t.a=function(e){var t=e.text,n=o();return Object(c.jsx)(a.a,{variant:"h3",component:"span",className:n.span,children:t})}},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(26),a=n(0),c=n(240),o=n(337),i=n(341),s=n(340),u=n(336),l=n(338),p=n(339),d=n(201),b=n(71),f=n(352),h=n(342),j=n(2),m=Object(c.a)({paper:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},hover:{"&:hover":{backgroundColor:"#0899ba !important"}},selected:{backgroundColor:"#607d8b !important"},span:{padding:"1rem"}});function x(e){var t=e.loading,n=e.selected,c=e.handleSelect,x=e.title,O=e.data,v=e.hover,g=e.dense,k=e.rowKey,w=e.tableHeight,y=e.emptyTableText;if(c||(c=function(){}),!k)throw new Error('Component prop "rowKey" is not defined');if(!w)throw new Error('Component prop "tableHeight" is not defined');var S=m(),C=Object(a.useState)(0),T=Object(r.a)(C,2),E=T[0],W=T[1],P=Object(a.useState)(5),N=Object(r.a)(P,2),D=N[0],B=N[1],F=JSON.parse(JSON.stringify(O));return F.forEach((function(e){return delete e._id})),Object(j.jsxs)(d.a,{className:S.paper,children:[Object(j.jsx)(b.a,{variant:"h4",component:"span",className:S.span,children:x}),Object(j.jsx)(u.a,{style:{minHeight:w,maxHeight:w},children:Object(j.jsxs)(o.a,{className:S.table,"aria-label":"simple table",size:g?"small":"medium",components:{},children:[Object(j.jsx)(l.a,{children:Object(j.jsx)(p.a,{children:F[0]&&Object.keys(F[0]).map((function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);return 0===t?Object(j.jsx)(s.a,{children:n},e+" "+t):Object(j.jsx)(s.a,{align:"center",children:n},e+" "+t)}))})}),Object(j.jsxs)(i.a,{children:[F.slice(E*D,E*D+D).map((function(e,t){return Object(j.jsx)(p.a,{classes:{hover:S.hover,selected:S.selected},hover:v,onClick:function(e){c(e,O[t]._id)},selected:v&&(r=O[t]._id,n===r),children:Object.keys(e).map((function(t,n){return 0===n?Object(j.jsx)(s.a,{component:"th",scope:"row",children:e[t]},t+" "+n):Object(j.jsx)(s.a,{align:"center",children:e[t]},t+" "+n)}))},e[k]+" "+t);var r})),t&&Object(j.jsx)(p.a,{children:Object(j.jsx)(s.a,{align:"center",style:{border:"none"},children:Object(j.jsx)(h.a,{size:"8.5rem"})})}),!F.length&&!t&&Object(j.jsx)(p.a,{children:Object(j.jsx)(s.a,{align:"center",style:{border:"none"},children:Object(j.jsx)(b.a,{variant:"h4",className:S.span,children:y})})})]})]})}),Object(j.jsx)(f.a,{rowsPerPageOptions:[5,25,100],component:"div",count:F.length,rowsPerPage:D,page:E,onChangePage:function(e,t){console.log(typeof t),W(t)},onChangeRowsPerPage:function(e){B(+e.target.value),W(0)}})]})}},274:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return j})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),o=n(57),i=n.n(o),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/projects",t).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/projects/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/projects/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/projects/".concat(t,"/tickets"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/projects/ticket/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/projects/".concat(t,"/team"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/projects/ticket/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/projects/ticket/comments/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/projects/ticket/".concat(t,"/comments"),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/projects/ticket/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},292:function(e,t,n){"use strict";var r=n(0),a=n(240),c=n(245),o=n(355),i=n(310),s=n(314),u=n(312),l=n(313),p=n(311),d=n(71),b=n(2),f=Object(a.a)((function(e){return{dialogPaper:{minHeight:"40vh",minWidth:"40vw"},input:{display:"none"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},selectEmpty:{marginTop:e.spacing(2)}}}));t.a=function(e){var t=e.children,n=e.isOpen,a=e.handleOpen,h=e.dialogTitle,j=e.dialogDescription,m=e.titleTFValue,x=e.descriptionTFValue,O=e.handleChange,v=e.handleSubmit,g=e.error,k=f();return Object(b.jsx)(r.Fragment,{children:Object(b.jsxs)(i.a,{classes:{paper:k.dialogPaper},open:n,"aria-labelledby":"form-dialog-title",children:[Object(b.jsx)(p.a,{id:"form-dialog-title",children:h}),Object(b.jsxs)(u.a,{children:[Object(b.jsxs)(l.a,{children:[j,""!==g&&Object(b.jsx)(d.a,{component:"p",color:"error",children:g})]}),Object(b.jsx)(o.a,{autoFocus:!0,margin:"normal",id:"name",label:"Title",type:"text",value:m,onChange:function(e){return O(e.target.value,"title")},error:!m&&""!==g,fullWidth:!0}),Object(b.jsx)(o.a,{margin:"normal",id:"name",label:"Description",type:"text",variant:"filled",multiline:!0,rows:10,value:x,onChange:function(e){return O(e.target.value,"description")},error:!x&&""!==g,fullWidth:!0}),t]}),Object(b.jsxs)(s.a,{children:[Object(b.jsx)(c.a,{onClick:a,variant:"contained",color:"secondary",fullWidth:!0,children:"Cancel"}),Object(b.jsx)(c.a,{onClick:v,variant:"contained",color:"primary",fullWidth:!0,children:"Save"})]})]})})}},293:function(e,t,n){"use strict";n(0);var r=n(245),a=n(310),c=n(314),o=n(312),i=n(313),s=n(311),u=n(2);t.a=function(e){var t=e.open,n=e.handleOpen,l=e.handleConfirm,p=e.titleText,d=e.descriptionText;return Object(u.jsx)("div",{children:Object(u.jsxs)(a.a,{open:t,onClose:n,"aria-labelledby":"form-dialog-title",children:[Object(u.jsx)(s.a,{id:"form-dialog-title",children:p}),Object(u.jsx)(o.a,{children:Object(u.jsx)(i.a,{children:d})}),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(r.a,{variant:"contained",color:"secondary",onClick:n,children:"Cancel"}),Object(u.jsx)(r.a,{variant:"contained",color:"primary",onClick:function(){l(),n()},children:"Confirm"})]})]})})}},310:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(12),o=n(0),i=(n(4),n(5)),s=n(6),u=n(7),l=n(260),p=n(256),d=n(202),b=n(20),f=n(201),h={enter:b.b.enteringScreen,exit:b.b.leavingScreen},j=o.forwardRef((function(e,t){var n=e.BackdropProps,c=e.children,s=e.classes,b=e.className,j=e.disableBackdropClick,m=void 0!==j&&j,x=e.disableEscapeKeyDown,O=void 0!==x&&x,v=e.fullScreen,g=void 0!==v&&v,k=e.fullWidth,w=void 0!==k&&k,y=e.maxWidth,S=void 0===y?"sm":y,C=e.onBackdropClick,T=e.onClose,E=e.onEnter,W=e.onEntered,P=e.onEntering,N=e.onEscapeKeyDown,D=e.onExit,B=e.onExited,F=e.onExiting,R=e.open,A=e.PaperComponent,H=void 0===A?f.a:A,K=e.PaperProps,M=void 0===K?{}:K,I=e.scroll,$=void 0===I?"paper":I,J=e.TransitionComponent,V=void 0===J?d.a:J,Y=e.transitionDuration,X=void 0===Y?h:Y,_=e.TransitionProps,z=e["aria-describedby"],L=e["aria-labelledby"],U=Object(a.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),q=o.useRef();return o.createElement(l.a,Object(r.a)({className:Object(i.a)(s.root,b),BackdropComponent:p.a,BackdropProps:Object(r.a)({transitionDuration:X},n),closeAfterTransition:!0,disableBackdropClick:m,disableEscapeKeyDown:O,onEscapeKeyDown:N,onClose:T,open:R,ref:t},U),o.createElement(V,Object(r.a)({appear:!0,in:R,timeout:X,onEnter:E,onEntering:P,onEntered:W,onExit:D,onExiting:F,onExited:B,role:"none presentation"},_),o.createElement("div",{className:Object(i.a)(s.container,s["scroll".concat(Object(u.a)($))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===q.current&&(q.current=null,C&&C(e),!m&&T&&T(e,"backdropClick"))},onMouseDown:function(e){q.current=e.target}},o.createElement(H,Object(r.a)({elevation:24,role:"dialog","aria-describedby":z,"aria-labelledby":L},M,{className:Object(i.a)(s.paper,s["paperScroll".concat(Object(u.a)($))],s["paperWidth".concat(Object(u.a)(String(S)))],M.className,g&&s.paperFullScreen,w&&s.paperFullWidth)}),c))))}));t.a=Object(s.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(c.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(j)},311:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),o=(n(4),n(5)),i=n(6),s=n(71),u=c.forwardRef((function(e,t){var n=e.children,i=e.classes,u=e.className,l=e.disableTypography,p=void 0!==l&&l,d=Object(a.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(r.a)({className:Object(o.a)(i.root,u),ref:t},d),p?n:c.createElement(s.a,{component:"h2",variant:"h6"},n))}));t.a=Object(i.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},312:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),o=(n(4),n(5)),i=n(6),s=c.forwardRef((function(e,t){var n=e.classes,i=e.className,s=e.dividers,u=void 0!==s&&s,l=Object(a.a)(e,["classes","className","dividers"]);return c.createElement("div",Object(r.a)({className:Object(o.a)(n.root,i,u&&n.dividers),ref:t},l))}));t.a=Object(i.a)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(s)},313:function(e,t,n){"use strict";var r=n(1),a=n(0),c=(n(4),n(6)),o=n(71),i=a.forwardRef((function(e,t){return a.createElement(o.a,Object(r.a)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));t.a=Object(c.a)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(i)},314:function(e,t,n){"use strict";var r=n(1),a=n(3),c=n(0),o=(n(4),n(5)),i=n(6),s=c.forwardRef((function(e,t){var n=e.disableSpacing,i=void 0!==n&&n,s=e.classes,u=e.className,l=Object(a.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(r.a)({className:Object(o.a)(s.root,u,!i&&s.spacing),ref:t},l))}));t.a=Object(i.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(s)},335:function(e,t,n){"use strict";n.r(t);var r=n(44),a=n(15),c=n(26),o=n(0),i=n.n(o),s=n(240),u=n(298),l=n(267),p=n(245),d=n(292),b=n(309),f=n(350),h=n(355),j=n(274),m=n(265),x=n(42),O=n(33),v=n(266),g=n(293),k=n(58),w=n(2),y=Object(s.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},link:{color:"inherit",textDecoration:"none"},span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},button:{}}}));t.default=function(){var e=y(),t=Object(o.useState)({title:"",description:"",isOpen:!1,isTicketForm:!0,error:""}),n=Object(c.a)(t,2),s=n[0],S=n[1],C=Object(o.useState)({projects:!1,tickets:!1,team:!1}),T=Object(c.a)(C,2),E=T[0],W=T[1],P=Object(o.useState)(""),N=Object(c.a)(P,2),D=N[0],B=N[1],F=Object(o.useState)(""),R=Object(c.a)(F,2),A=R[0],H=R[1],K=Object(o.useRef)(),M=Object(o.useContext)(x.a),I=Object(c.a)(M,2),$=I[0],J=I[1],V=Object(o.useRef)(),Y=Object(o.useRef)(),X=Object(o.useState)([]),_=Object(c.a)(X,2),z=_[0],L=_[1],U=Object(o.useState)([]),q=Object(c.a)(U,2),G=q[0],Q=q[1],Z=Object(o.useState)([]),ee=Object(c.a)(Z,2),te=ee[0],ne=ee[1],re=Object(o.useState)(!1),ae=Object(c.a)(re,2),ce=ae[0],oe=ae[1],ie=Object(o.useState)((function(){})),se=Object(c.a)(ie,2),ue=se[0],le=se[1],pe=Object(o.useContext)(x.b);Object(o.useEffect)((function(){W((function(e){return Object(a.a)(Object(a.a)({},e),{},{projects:!0})})),Object(m.c)($.userId).then((function(e){W((function(e){return Object(a.a)(Object(a.a)({},e),{},{projects:!1})})),L(e.data.projects)}))}),[]),Object(o.useEffect)((function(){""!==D&&(K.current&&pe.emit("disconnect project updates",K.current),pe.emit("project updates",D),W((function(e){return Object(a.a)(Object(a.a)({},e),{},{team:!0,tickets:!0})})),Object(j.f)(D).then((function(e){W((function(e){return Object(a.a)(Object(a.a)({},e),{},{team:!1,tickets:!1})}));var t=e.data.project;Q(t.tickets),ne(t.team)})).catch((function(e){return console.log(e)})))}),[D]),Object(o.useEffect)((function(){return D&&(K.current&&pe.emit("disconnect project updates",K.current),pe.emit("project updates",D)),function(){pe.emit("disconnect project updates",D)}}),[D,pe]),Object(o.useEffect)((function(){return pe.on("newTicket",(function(e){Q((function(t){return t.push(e),t})),console.log("recieved the new ticket",e)})),pe.on("newTeam",(function(e){ne(e),console.log("recieved the team",e)})),function(){pe.off("newTicket"),pe.off("newTeam"),pe.emit("disconnect homePage")}}),[pe]);var de=function(e){var t;"project"===e?t=!1:"ticket"===e&&(t=!0),S((function(e){return Object(a.a)(Object(a.a)({},e),{},{title:"",description:"",isOpen:!e.isOpen,isTicketForm:t,error:""})}))},be=function(e){e?(oe((function(e){return!e})),le((function(){return e}))):(oe((function(e){return!e})),le((function(){})))},fe=!s.title||!s.description,he=s.isTicketForm?"Create a new ticket":"Create a new project",je=s.isTicketForm?"Enter the ticket details":"Enter the project details";return Object(w.jsxs)("div",{className:e.root,children:[Object(w.jsxs)(u.a,{container:!0,spacing:3,children:[Object(w.jsx)(u.a,{item:!0,xs:12,children:Object(w.jsx)(v.a,{text:"Home"})}),"Admin"===$.role&&Object(w.jsxs)(o.Fragment,{children:[Object(w.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(w.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,classes:{root:e.button},onClick:function(){return de("project")},children:"Create a new project"})}),Object(w.jsx)(u.a,{item:!0,md:3,xs:12,children:Object(w.jsx)(p.a,{variant:"contained",color:"secondary",fullWidth:!0,classes:{root:e.button},onClick:function(){return be((function(){return e=D,void Object(j.d)(e).then((function(e){k.e.snackbarText="Successfully deleted the project",k.e.snackbarSeverity="success"})).catch((function(e){k.e.snackbarText="Something went wrong deleting the project. Try again later.",k.e.snackbarSeverity="error"})).finally((function(){J({type:k.d,snackbarPayload:k.e}),de()}));var e}))},disabled:!D,children:"Delete Selected Project"})}),Object(w.jsx)(u.a,{item:!0,md:6})]}),Object(w.jsx)(u.a,{item:!0,md:6,xs:12,children:Object(w.jsx)(l.a,{emptyTableText:"No projects available",tableHeight:"22vh",loading:E.projects,selected:D,handleSelect:function(e,t){B(D===t?"":function(e){return K.current=e,t})},title:"Projects",data:z,hover:!0,dense:!0,rowKey:"title"})}),Object(w.jsx)(u.a,{item:!0,md:6,xs:12,children:Object(w.jsx)(l.a,{emptyTableText:D?"This project's team is empty":"Select a project to view it's team",tableHeight:"22vh",loading:E.team,title:"Team",data:te,hover:!1,dense:!0,rowKey:"email"})}),Object(w.jsx)(u.a,{item:!0,xs:12,children:Object(w.jsx)(l.a,{emptyTableText:D?"This project has no tickets":"Select a project to view it's tickets",tableHeight:"22vh",loading:E.tickets,selected:A,handleSelect:function(e,t){H(A===t?"":t)},title:"Tickets",data:G,hover:!0,dense:!0,rowKey:"title"})}),Object(w.jsx)(u.a,{item:!0,md:6,xs:12,children:Object(w.jsx)(O.b,{to:"/dashboard/projects/ticket/".concat(A),className:e.link,children:Object(w.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:!A,children:"Ticket Details"})})}),Object(w.jsx)(u.a,{item:!0,md:6,xs:12,children:Object(w.jsx)(p.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:!D,onClick:function(){return de("ticket")},children:"Submit a new ticket"})})]}),Object(w.jsx)(d.a,{isOpen:s.isOpen,handleOpen:de,handleChange:function(e,t){S((function(n){return Object(a.a)(Object(a.a)({},n),{},Object(r.a)({},t,e))}))},titleTFValue:s.title,descriptionTFValue:s.description,dialogTitle:he,dialogDescription:je,handleSubmit:function(){console.log(s.title),fe?S((function(e){return Object(a.a)(Object(a.a)({},e),{},{error:"please fill the required fields"})})):(s.isTicketForm?function(){var e={title:s.title,description:s.description,submitter:$.userId,type:V.current,priority:Y.current};Object(j.b)(D,e).then((function(e){k.e.snackbarText="Successfully created a ticket",k.e.snackbarSeverity="success"})).catch((function(e){k.e.snackbarText="Something went wrong creating the ticket. Try again later.",k.e.snackbarSeverity="error"})).finally((function(){J({type:k.d,snackbarPayload:k.e})}))}():function(){var e={title:s.title,description:s.description};Object(j.a)(e).then((function(e){k.e.snackbarText="Successfully created a project",k.e.snackbarSeverity="success";var t=e.data.project;L((function(e){return e.push(t),e}))})).catch((function(e){k.e.snackbarText="Something went wrong creating the project. Try again later.",k.e.snackbarSeverity="error"})).finally((function(){J({type:k.d,snackbarPayload:k.e})}))}(),de())},error:s.error,children:s.isTicketForm&&Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(b.a,{variant:"filled",className:e.formControl,fullWidth:!0,children:Object(w.jsx)(f.a,{options:["high","medium","low","none"],onChange:function(e,t){Y.current=t},renderInput:function(e){return Object(w.jsx)(h.a,Object(a.a)(Object(a.a)({},e),{},{label:"Priority",variant:"outlined"}))}})}),Object(w.jsx)(b.a,{variant:"filled",className:e.formControl,fullWidth:!0,children:Object(w.jsx)(f.a,{options:["bug"],onChange:function(e,t){V.current=t},renderInput:function(e){return Object(w.jsx)(h.a,Object(a.a)(Object(a.a)({},e),{},{label:"Type",variant:"outlined"}))}})})]})}),Object(w.jsx)(g.a,{titleText:"Confirm Action",descriptionText:"Are you sure you want to delete this?",open:ce,handleOpen:be,handleConfirm:ue})]})}}}]);
//# sourceMappingURL=9.2c99e690.chunk.js.map