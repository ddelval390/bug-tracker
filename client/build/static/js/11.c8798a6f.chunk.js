(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{265:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return b}));var r=n(51),a=n.n(r),c=n(74),s=n(57),o=n.n(s),i=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t,"/projects")).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/".concat(t,"/tickets")).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users").then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/users/user/".concat(t)).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/users/user/".concat(t),n).then((function(e){return e})).catch((function(e){throw console.log(e.response),e}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},266:function(e,t,n){"use strict";n(0);var r=n(240),a=n(71),c=n(2),s=Object(r.a)((function(e){return{span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"}}}));t.a=function(e){var t=e.text,n=s();return Object(c.jsx)(a.a,{variant:"h3",component:"span",className:n.span,children:t})}},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(26),a=n(0),c=n(240),s=n(337),o=n(341),i=n(340),u=n(336),l=n(338),d=n(339),p=n(201),b=n(71),h=n(351),j=n(342),f=n(2),x=Object(c.a)({paper:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},hover:{"&:hover":{backgroundColor:"#0899ba !important"}},selected:{backgroundColor:"#607d8b !important"},span:{padding:"1rem"}});function O(e){var t=e.loading,n=e.selected,c=e.handleSelect,O=e.title,g=e.data,m=e.hover,v=e.dense,w=e.rowKey,y=e.tableHeight,k=e.emptyTableText;if(c||(c=function(){}),!w)throw new Error('Component prop "rowKey" is not defined');if(!y)throw new Error('Component prop "tableHeight" is not defined');var S=x(),C=Object(a.useState)(0),N=Object(r.a)(C,2),P=N[0],T=N[1],H=Object(a.useState)(5),_=Object(r.a)(H,2),A=_[0],R=_[1],E=JSON.parse(JSON.stringify(g));return E.forEach((function(e){return delete e._id})),Object(f.jsxs)(p.a,{className:S.paper,children:[Object(f.jsx)(b.a,{variant:"h4",component:"span",className:S.span,children:O}),Object(f.jsx)(u.a,{style:{minHeight:y,maxHeight:y},children:Object(f.jsxs)(s.a,{className:S.table,"aria-label":"simple table",size:v?"small":"medium",components:{},children:[Object(f.jsx)(l.a,{children:Object(f.jsx)(d.a,{children:E[0]&&Object.keys(E[0]).map((function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);return 0===t?Object(f.jsx)(i.a,{children:n},e+" "+t):Object(f.jsx)(i.a,{align:"center",children:n},e+" "+t)}))})}),Object(f.jsxs)(o.a,{children:[E.slice(P*A,P*A+A).map((function(e,t){return Object(f.jsx)(d.a,{classes:{hover:S.hover,selected:S.selected},hover:m,onClick:function(e){c(e,g[t]._id)},selected:m&&(r=g[t]._id,n===r),children:Object.keys(e).map((function(t,n){return 0===n?Object(f.jsx)(i.a,{component:"th",scope:"row",children:e[t]},t+" "+n):Object(f.jsx)(i.a,{align:"center",children:e[t]},t+" "+n)}))},e[w]+" "+t);var r})),t&&Object(f.jsx)(d.a,{children:Object(f.jsx)(i.a,{align:"center",style:{border:"none"},children:Object(f.jsx)(j.a,{size:"8.5rem"})})}),!E.length&&!t&&Object(f.jsx)(d.a,{children:Object(f.jsx)(i.a,{align:"center",style:{border:"none"},children:Object(f.jsx)(b.a,{variant:"h4",className:S.span,children:k})})})]})]})}),Object(f.jsx)(h.a,{rowsPerPageOptions:[5,25,100],component:"div",count:E.length,rowsPerPage:A,page:P,onChangePage:function(e,t){console.log(typeof t),T(t)},onChangeRowsPerPage:function(e){R(+e.target.value),T(0)}})]})}},345:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(0),c=n(240),s=n(298),o=n(201),i=n(267),u=n(265),l=n(266),d=n(301),p=n(71),b=n(317),h=n(343),j=n(309),f=n(347),x=n(42),O=n(58),g=n(2),m=Object(c.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},link:{color:"inherit",textDecoration:"none"},span:{borderRadius:"3px",backgroundColor:"#00adb5",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",padding:".4rem"},formControl:{display:"inline-block",margin:e.spacing(1),minWidth:100},button:{}}}));t.default=function(){var e=m(),t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],v=n[1],w=Object(a.useState)([]),y=Object(r.a)(w,2),k=y[0],S=y[1],C=Object(a.useState)(!1),N=Object(r.a)(C,2),P=N[0],T=N[1],H=Object(a.useState)(""),_=Object(r.a)(H,2),A=_[0],R=_[1],E=Object(a.useContext)(x.a),J=Object(r.a)(E,2)[1];Object(a.useEffect)((function(){T(!0),Object(u.a)().then((function(e){S(e.data.userList),T(!1)}))}),[]);return Object(g.jsx)("div",{className:e.root,children:Object(g.jsxs)(s.a,{container:!0,spacing:3,children:[Object(g.jsx)(s.a,{item:!0,xs:12,children:Object(g.jsx)(l.a,{text:"Manage User Roles"})}),Object(g.jsx)(s.a,{item:!0,md:8,xs:12,children:Object(g.jsx)(i.a,{emptyTableText:"There are no users",tableHeight:"70vh",loading:P,selected:c,handleSelect:function(e,t){if(c===t)v("");else{v(t);var n=k.find((function(e){return e._id===t}));R(n.role)}},title:"Users",data:k,hover:!0,dense:!1,rowKey:"_id"})}),Object(g.jsx)(s.a,{item:!0,md:4,xs:12,spacing:2,style:{textAlign:"center"},children:Object(g.jsxs)(d.a,{component:o.a,style:{minHeight:"25vh"},children:[Object(g.jsx)(p.a,{variant:"h5",children:"User role details for user:"}),Object(g.jsx)(p.a,{variant:"h5",children:c?k.find((function(e){return e._id===c})).name:"No user selected"}),Object(g.jsxs)(j.a,{className:e.formControl,style:{width:"80%"},children:[Object(g.jsx)(b.a,{id:"demo-simple-select-label",children:"Role"}),Object(g.jsxs)(f.a,{disabled:""===c,labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:function(e){return function(e){var t=e.target.value;R(t),Object(u.f)(c,{role:t}).then((function(e){O.e.snackbarText="Successfully changed user role",O.e.snackbarSeverity="success"})).catch((function(e){O.e.snackbarText="Could not change users role. Try again later.",O.e.snackbarSeverity="error"})).finally((function(){J({type:O.d,snackbarPayload:O.e})}))}(e)},fullWidth:!0,children:[Object(g.jsx)(h.a,{value:"Submitter",children:"Submitter"}),Object(g.jsx)(h.a,{value:"Developer",children:"Developer"}),Object(g.jsx)(h.a,{value:"Project Manager",children:"Project Manager"}),Object(g.jsx)(h.a,{value:"Admin",children:"Admin"})]})]})]})})]})})}}}]);
//# sourceMappingURL=11.c8798a6f.chunk.js.map