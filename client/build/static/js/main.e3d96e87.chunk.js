(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{199:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),s=n.n(r),i=n(33),o=n(11),l=n(26),j=n(44),b=n(253),u=n(252),d=n(246),O=n(262),h=n(258),p=n(243),x=n(247),m=n(249),f=n(250),g=n(251),v=n(85),y=n.n(v),k=n(254),N=n(71),w=n(240),P=n(19),I=n(245),C=n(78),L=n(42),S=n(248),B=n(15),z=n(261),T=n(259),A=n(2),G=Object(w.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function R(e){return Object(A.jsx)(T.a,Object(B.a)({elevation:6,variant:"filled"},e))}function U(e){var t=e.open,n=e.handleClose,a=e.severity,c=e.text,r=G();return Object(A.jsx)("div",{className:r.root,children:Object(A.jsx)(z.a,{open:t,autoHideDuration:6e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(A.jsx)(R,{onClose:n,severity:a,children:c})})})}var E=n(128),M=n.n(E),D=n(129),K=n.n(D),F=n(130),H=n.n(F),J=n(133),V=n.n(J),_=n(131),q=n.n(_),Q=n(132),W=n.n(Q),X=n(58),Y=240,Z=Object(w.a)((function(e){return{root:{display:"flex"},link:{color:"inherit",textDecoration:"none"},title:{flexGrow:1},drawer:Object(j.a)({},e.breakpoints.up("sm"),{width:Y,flexShrink:0}),appBar:Object(j.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Y,"px)"),marginLeft:Y}),menuButton:Object(j.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Y},content:{flexGrow:1,padding:e.spacing(3)},landingPage:{flexGrow:1}}})),$=function(e){var t=e.window,n=e.children,r=Z(),s=Object(P.a)(),j=c.a.useState(!1),v=Object(l.a)(j,2),w=v[0],B=v[1],z=Object(a.useState)(!1),T=Object(l.a)(z,2),G=T[0],R=T[1],E=Object(a.useContext)(L.a),D=Object(l.a)(E,2),F=D[0],J=D[1],_=Object(o.g)();Object(a.useEffect)((function(){Object(C.a)().then((function(e){var t=e.data.user,n={isLoggedIn:!0,role:t.role,userId:t._id};J({type:X.b,payload:n})})).catch((function(e){return null}))}),[]);var Q=!F.isLoggedIn&&Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(i.b,{to:"/login",className:r.link,children:Object(A.jsx)(I.a,{color:"inherit",children:"Log In"})}),Object(A.jsx)(i.b,{to:"/signup",className:r.link,children:Object(A.jsx)(I.a,{color:"inherit",children:"Sign Up"})})]}),Y=function(){B(!w)},$=[["Home","",M.a],["My tickets","tickets",K.a],["My Profile","profile/".concat(F.userId),H.a]],ee=[["Manage User Roles","admin/user-roles",q.a],["Manage Project Teams","admin/teams",W.a]];F.isDemoUser&&$.pop();var te=Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:r.toolbar}),Object(A.jsx)(d.a,{}),Object(A.jsxs)(x.a,{subheader:Object(A.jsx)(S.a,{component:"div",children:"Navigation"}),children:[$.map((function(e,t){var n=Object(l.a)(e,3),a=n[0],c=n[1],s=n[2];return Object(A.jsx)(i.b,{to:"/dashboard/".concat(c),className:r.link,children:Object(A.jsxs)(m.a,{button:!0,children:[Object(A.jsx)(f.a,{children:Object(A.jsx)(s,{})}),Object(A.jsx)(g.a,{primary:a})]})},a)})),Object(A.jsxs)(m.a,{button:!0,onClick:function(){Object(C.c)(),J({type:X.c}),R(!G)},children:[Object(A.jsx)(f.a,{children:Object(A.jsx)(V.a,{})}),Object(A.jsx)(g.a,{primary:"LogOut"})]})]}),"Admin"===F.role&&Object(A.jsxs)(c.a.Fragment,{children:[Object(A.jsx)(d.a,{}),Object(A.jsx)(x.a,{subheader:Object(A.jsx)(S.a,{component:"div",children:"Admin Options"}),children:ee.map((function(e,t){var n=Object(l.a)(e,3),a=n[0],c=n[1],s=n[2];return Object(A.jsx)(i.b,{to:"/dashboard/".concat(c),className:r.link,children:Object(A.jsxs)(m.a,{button:!0,children:[Object(A.jsx)(f.a,{children:Object(A.jsx)(s,{})}),Object(A.jsx)(g.a,{primary:a})]})},a)}))})]})]}),ne=void 0!==t?function(){return t().document.body}:void 0;return _.pathname.includes("/dashboard")?Object(A.jsxs)("div",{className:r.root,children:[Object(A.jsx)(u.a,{}),Object(A.jsx)(b.a,{position:"fixed",className:r.appBar,children:Object(A.jsxs)(k.a,{children:[Object(A.jsx)(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:Y,className:r.menuButton,children:Object(A.jsx)(y.a,{})}),Object(A.jsx)(N.a,{variant:"h6",className:r.title,children:"BugTracker"}),Q]})}),Object(A.jsxs)("nav",{className:r.drawer,"aria-label":"mailbox folders",children:[Object(A.jsx)(h.a,{smUp:!0,implementation:"css",children:Object(A.jsx)(O.a,{container:ne,variant:"temporary",anchor:"rtl"===s.direction?"right":"left",open:w,onClose:Y,classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:te})}),Object(A.jsx)(h.a,{xsDown:!0,implementation:"css",children:Object(A.jsx)(O.a,{classes:{paper:r.drawerPaper},variant:"permanent",open:!0,children:te})})]}),Object(A.jsxs)("main",{className:r.content,children:[Object(A.jsx)("div",{className:r.toolbar}),n,Object(A.jsx)(U,{open:F.snackbarIsOpen,handleClose:function(){return J({type:X.a})},severity:F.snackbarSeverity,text:F.snackbarText})]})]}):Object(A.jsxs)("div",{className:r.root,children:[G&&Object(A.jsx)(o.a,{to:"/"}),Object(A.jsx)(b.a,{position:"fixed",children:Object(A.jsxs)(k.a,{children:[Object(A.jsx)(p.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",children:Object(A.jsx)(y.a,{})}),Object(A.jsx)(N.a,{variant:"h6",className:r.title,children:"BugTracker"}),Q]})}),Object(A.jsxs)("main",{className:"/"===!_.pathname?r.content:r.landingPage,children:[Object(A.jsx)("div",{className:r.toolbar}),n]})]})},ee=n(135),te=function(e){var t=e.component,n=Object(ee.a)(e,["component"]),c=Object(a.useContext)(L.a),r=Object(l.a)(c,1)[0];return Object(A.jsx)(o.b,Object(B.a)(Object(B.a)({},n),{},{render:function(e){return r.isLoggedIn?Object(A.jsx)(t,Object(B.a)({},e)):Object(A.jsx)(o.a,{to:{pathname:"/login",store:{from:e.location}}})}}))},ne=Object(a.lazy)((function(){return n.e(16).then(n.bind(null,354))})),ae=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,332))})),ce=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,335))})),re=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(8)]).then(n.bind(null,336))})),se=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(7)]).then(n.bind(null,345))})),ie=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,350))})),oe=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(15),n.e(11)]).then(n.bind(null,346))})),le=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,352))})),je=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(12)]).then(n.bind(null,347))})),be=Object(a.lazy)((function(){return n.e(17).then(n.bind(null,348))})),ue=function(){return Object(A.jsx)($,{children:Object(A.jsx)(a.Suspense,{fallback:Object(A.jsx)("div",{children:"Loading..."}),children:Object(A.jsxs)(o.d,{children:[Object(A.jsx)(o.b,{exact:!0,path:"/",component:ne}),Object(A.jsx)(o.b,{exact:!0,path:"/login",component:ae}),Object(A.jsx)(o.b,{exact:!0,path:"/signup",component:ce}),Object(A.jsx)(te,{exact:!0,path:"/dashboard/tickets/",component:je}),Object(A.jsx)(te,{exact:!0,path:"/dashboard/profile/:userId",component:le}),Object(A.jsx)(te,{exact:!0,path:"/dashboard",component:re}),Object(A.jsx)(te,{exact:!0,path:"/dashboard/projects/ticket/:ticketId",component:se}),Object(A.jsx)(te,{exact:!0,path:"/dashboard/admin/teams",component:ie}),Object(A.jsx)(te,{exact:!0,path:"/dashboard/admin/user-roles",component:oe}),Object(A.jsx)(o.b,{component:be})]})})})},de=n(257),Oe=n(134),he=n(70),pe=Object(Oe.a)({typography:{useNextVariants:!0},palette:{primary:{main:"#90e0ef"},secondary:{main:"#d94734"},background:{default:"#414554"},openTitle:"#3f4771",protectedTitle:he.a[400],type:"dark"}});var xe=function(){return Object(A.jsx)(L.c,{children:Object(A.jsx)(i.a,{children:Object(A.jsxs)(de.a,{theme:pe,children:[Object(A.jsx)(u.a,{}),Object(A.jsx)(ue,{})]})})})};s.a.render(Object(A.jsx)(xe,{}),document.getElementById("root"))},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(26),c=n(0),r=n(15),s=function(e,t){switch(t.type){case"LOGIN":return Object(r.a)(Object(r.a)(Object(r.a)({},e),t.payload),{},{isLoggedIn:!0});case"LOGOUT":return Object(r.a)(Object(r.a)({},e),{},{role:"",userId:"",isLoggedIn:!1});case"OPENSNACKBAR":return Object(r.a)(Object(r.a)(Object(r.a)({},e),t.snackbarPayload),{},{snackbarIsOpen:!0});case"CLOSESNACKBAR":return Object(r.a)(Object(r.a)({},e),{},{snackbarIsOpen:!1});default:return e}},i=n(123),o=n.n(i),l=n(2),j=o.a.connect(window.location.hostname),b={isLoggedIn:!1,role:null,userId:null,isDemoUser:!1,snackbarIsOpen:!1,snackbarText:"",snackbarSeverity:""},u=Object(c.createContext)(),d=Object(c.createContext)();t.c=function(e){var t=e.children,n=Object(c.useReducer)(s,b),r=Object(a.a)(n,2),i=r[0],o=r[1];return Object(l.jsx)(d.Provider,{value:j,children:Object(l.jsx)(u.Provider,{value:[i,o],children:t})})}},58:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i}));var a={snackbarText:"",snackbarSeverity:""},c="LOGOUT",r="LOGIN",s="OPENSNACKBAR",i="CLOSESNACKBAR"},78:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return j}));var a=n(51),c=n.n(a),r=n(74),s=n(57),i=n.n(s),o=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/auth/conn",t).then((function(e){return e})).catch((function(e){throw e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/auth/authcheck").then((function(e){return e})).catch((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){return i.a.get("/auth/logout").then((function(e){return e})).catch((function(e){console.log(e),console.log(e.response)}))}}},[[199,5,6]]]);
//# sourceMappingURL=main.e3d96e87.chunk.js.map